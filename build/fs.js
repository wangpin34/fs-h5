!function(){function e(e,r){switch(r){case"info":console.info(e);break;case"warn":console.warn(e);break;case"error":console.error(e);break;default:console.log(e)}}var r=new Object;r.create=function(r,t){return!r&&(r="Error:"),function(n){var i="";switch(n.code){case FileError.QUOTA_EXCEEDED_ERR:i="QUOTA_EXCEEDED_ERR";break;case FileError.NOT_FOUND_ERR:i="NOT_FOUND_ERR";break;case FileError.SECURITY_ERR:i="SECURITY_ERR";break;case FileError.INVALID_MODIFICATION_ERR:i="INVALID_MODIFICATION_ERR";break;case FileError.INVALID_STATE_ERR:i="INVALID_STATE_ERR";break;default:i="Unknown Error"}e(r+" : "+i,"error"),t(new Error(r+" : "+i))}};var t=function(){},n=function(e){var n=null,i=!1,o=!1;return{isInitialized:function(){return i},init:function(c,a){var a=a||t;o||(o=!0,i=!1,navigator.webkitPersistentStorage.requestQuota(c,function(t){(e.requestFileSystem||e.webkitRequestFileSystem)(e.PERSISTENT,t,function(e){n=e,o=!1,i=!0,a(null)},r.create("init file system",a))}))},mkdir:function(e,i){var i=i||t,o=e.split("/").filter(function(e){return""!==e&&"."!==e}),c=function(t,o){var a=o||n.root;"."!=t[0]&&""!=t[0]||(t=t.slice(1)),a.getDirectory(t[0],{create:!0},function(e){t.length>1?c(t.slice(1),e):i(null,e)},r.create("Make dir "+e,i))};c(o)},rmdir:function(e,i,o){var o=o||t;n.root.getDirectory(e,{},function(t){i.recursive?t.removeRecursively(function(){o(null)},r.create("Remove dir "+e,o)):t.remove(function(){o(null)},r.create("Remove dir "+e,o))})},writeFile:function(e,i,o){var o=o||t;n.root.getFile(e,{create:!0},function(t){t.createWriter(function(e){var r=new Blob([i],{type:"text/plain"});e.write(r),e.length>i.length&&setTimeout(function(){e.truncate(i.length)},10),o(null)},r.create("Write to file "+e,o))},r.create("Search file "+e,o))},readFile:function(e,i){var i=i||t;n.root.getFile(e,{create:!1},function(t){t.file(function(e){var r=new FileReader;r.onloadend=function(e){i(null,this.result)},r.readAsText(e)},r.create("Read file "+e,i))},r.create("Search file "+e,i))},rmFile:function(e,i){var i=i||t;n.root.getFile(e,{create:!1},function(t){t.remove(function(){i(null)},r.create("Remove file "+e,i))},r.create("Search file "+e,i))},copy:function(e,r,t){},move:function(e,r,t){},watchDir:function(e,r){},watchFile:function(e,r){},list:function(e,i){var i=i||t;n.root.getDirectory(e,{},function(t){var n=t.createReader(),o=[],c=function(){n.readEntries(function(e){e.length?(o=o.concat(e),c()):i(null,o)},r.create("List entries in directory"+e,i))};c()})}}}(window);window.fs=n}();